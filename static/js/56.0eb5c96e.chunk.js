(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[56],{1818:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n(51),l=n(739),s=n(463),c=n(1313),r=n(709),j=n(633),d=n(382),o=n(95),m=n(621),x=n(622),b=n(623),u=n(624),h=n(625),p=n(472),O=n(172),g=n(1383),v=n(19),f=n.n(v);const y=e=>{if(!e.discount)return e.price*e.quantity||0;if("$"===e.discountType){return e.price*e.quantity-e.discount||0}{let t=e.price*e.quantity;return t-t*e.discount/100||0}};var S=n(21),C=n(68),N=n(0);const z=Object(S.a)("div")((()=>({display:"flex",alignItems:"center"}))),I=Object(S.a)("img")((()=>({width:48}))),F=Object(S.a)(m.a)((()=>({padding:0})));var T=e=>{let{values:t,handleChange:n,setFieldValue:l}=e;const[c,r]=Object(i.useState)(!0),[v,S]=Object(i.useState)([]);return Object(i.useEffect)((()=>(f.a.get("/api/ecommerce/get-product-list").then((e=>{let{data:t}=e;c&&S(t)})),()=>r(!1))),[c]),Object(N.jsx)(a.a,{name:"items",children:e=>{var i;return Object(N.jsxs)(C.a,{overflow:"auto",children:[Object(N.jsxs)(x.a,{sx:{whiteSpace:"pre",minWidth:750},children:[Object(N.jsx)(b.a,{children:Object(N.jsxs)(u.a,{children:[Object(N.jsx)(m.a,{colSpan:7,children:"Item Details"}),Object(N.jsx)(m.a,{colSpan:2,children:"Quantity "}),Object(N.jsx)(m.a,{colSpan:2,children:"Rate"}),Object(N.jsx)(m.a,{colSpan:2,children:"Discount"}),Object(N.jsx)(m.a,{colSpan:2,align:"center",children:"Amount"}),Object(N.jsx)(F,{colSpan:1,align:"center"})]})}),Object(N.jsx)(h.a,{children:null===(i=t.items)||void 0===i?void 0:i.map(((t,i)=>Object(N.jsxs)(u.a,{sx:{position:"relative"},children:[Object(N.jsx)(F,{colSpan:7,align:"left",children:Object(N.jsxs)(z,{children:[Object(N.jsx)(I,{alt:"",src:null===t||void 0===t?void 0:t.imgUrl}),Object(N.jsx)(g.a,{size:"small",sx:{width:"100%"},options:v,getOptionLabel:e=>e.title,renderInput:e=>Object(N.jsx)(s.a,{...e,variant:"outlined",fullWidth:!0}),onChange:(e,t)=>{n({target:{name:"items[".concat(i,"]"),value:t}})}})]})}),Object(N.jsx)(F,{colSpan:2,align:"left",children:Object(N.jsx)(s.a,{name:"items[".concat(i,"].quantity"),size:"small",variant:"outlined",type:"number",fullWidth:!0,defaultValue:t.quantity||"",onChange:n})}),Object(N.jsx)(F,{colSpan:2,align:"left",children:Object(N.jsx)(s.a,{name:"items[".concat(i,"].price"),size:"small",variant:"outlined",type:"number",fullWidth:!0,value:t.price||"",onChange:n})}),Object(N.jsx)(F,{colSpan:2,align:"left",children:Object(N.jsx)(s.a,{name:"items[".concat(i,"].discount"),size:"small",variant:"outlined",type:"number",fullWidth:!0,value:t.discount||"",onChange:n,InputProps:{style:{paddingRight:0},endAdornment:Object(N.jsxs)(p.a,{name:"items[".concat(i,"].discountType"),margin:"none",variant:"standard",disableUnderline:!0,value:t.discountType||"%",onChange:n,children:[Object(N.jsx)(j.a,{value:"$",children:"$"}),Object(N.jsx)(j.a,{value:"%",children:"%"})]})}})}),Object(N.jsx)(F,{colSpan:2,align:"center",children:y(t).toFixed(2)}),Object(N.jsx)(F,{colSpan:1,align:"center",children:Object(N.jsx)(O.a,{size:"small",onClick:()=>e.remove(i),children:Object(N.jsx)(o.a,{color:"error",fontSize:"small",children:"clear"})})})]},i)))})]}),Object(N.jsx)(d.a,{sx:{mt:"16px !important"},color:"primary",variant:"contained",onClick:()=>e.push({}),children:"+ Add New Item"})]})}})},w=n(35),D=n(1380),M=n(1320),A=n(1382);const W=Object(S.a)("div")((()=>({display:"flex",alignItems:"center"}))),k=Object(S.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}})),V=Object(S.a)(l.a)((e=>{let{theme:t}=e;return{padding:"16px",background:t.palette.background.default}})),E=Object(S.a)(s.a)((()=>({minWidth:"188px !important","& label":{fontSize:"14px"},"& label.MuiInputLabel-shrink":{marginTop:"0px"},"& .MuiOutlinedInput-root":{"& .MuiOutlinedInput-input":{fontSize:"14px",padding:"10px 14px !important"}}}))),q=Object(S.a)(A.a)((()=>({margin:"8px !important","& label":{fontSize:"14px"},"& .MuiOutlinedInput-input":{fontSize:"14px",padding:"10px 14px !important"},"& button":{padding:"6px"}}))),$=["NET 15","NET 30","NET 45","NET 60","Due end of the month","Due on receive"],P=["customer 1","customer 2","customer 3","customer 4","customer 5","customer 6","customer 7","customer 8"],R={customerType:"",otherField:"Adjustment"};t.default=()=>{const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=0;return e.forEach((e=>{t+=y(e)})),t},t=t=>{let n=0;return n+=e(t.items),n+=t.shippingCharge||0,n+=t[t.otherField]||0,n};return Object(N.jsx)(k,{children:Object(N.jsxs)(l.a,{elevation:3,children:[Object(N.jsx)(C.a,{p:2,display:"flex",children:Object(N.jsx)(w.d,{sx:{m:0},children:"New Invoice"})}),Object(N.jsx)(c.a,{sx:{mb:1}}),Object(N.jsx)(a.b,{initialValues:R,onSubmit:async(e,t)=>{let{isSubmitting:n}=t;console.log(e)},enableReinitialize:!0,children:n=>{let{values:i,errors:a,touched:l,handleChange:m,handleBlur:x,handleSubmit:b,isSubmitting:u,setSubmitting:h,setFieldValue:p}=n;return Object(N.jsxs)("form",{style:{padding:"16px"},onSubmit:b,children:[Object(N.jsxs)(r.a,{container:!0,spacing:3,alignItems:"center",children:[Object(N.jsx)(r.a,{item:!0,md:2,sm:4,xs:12,children:"Customer Name"}),Object(N.jsx)(r.a,{item:!0,md:10,sm:8,xs:12,children:Object(N.jsx)(E,{select:!0,id:"inputField",label:"Name",name:"customerName",size:"small",variant:"outlined",value:i.customerName||"",onChange:m,children:P.map(((e,t)=>Object(N.jsx)(j.a,{value:e,children:e},e)))})}),Object(N.jsx)(r.a,{item:!0,md:2,sm:4,xs:12,children:"Invoice#"}),Object(N.jsx)(r.a,{item:!0,md:10,sm:8,xs:12,children:Object(N.jsx)(E,{label:"Invoice No",name:"invoiceNo",size:"small",variant:"outlined",defaultValue:"INV-000001",value:i.invoiceNo,onChange:m})}),Object(N.jsx)(r.a,{item:!0,md:2,sm:4,xs:12,children:"Order Number"}),Object(N.jsx)(r.a,{item:!0,md:10,sm:8,xs:12,children:Object(N.jsx)(E,{label:"Invoice No",name:"orderNo",size:"small",variant:"outlined",value:i.orderNo,onChange:m})}),Object(N.jsx)(r.a,{item:!0,md:2,sm:4,xs:12,children:"Invoice Date"}),Object(N.jsx)(r.a,{item:!0,md:10,sm:8,xs:12,children:Object(N.jsxs)(C.a,{m:-1,display:"flex",flexWrap:1,children:[Object(N.jsx)(M.b,{dateAdapter:D.a,children:Object(N.jsx)(q,{value:i.invoiceDate,inputFormat:"MMMM dd, yyyy",onChange:e=>p("invoiceDate",e),renderInput:e=>Object(N.jsx)(E,{...e,variant:"outlined",label:"Invoice Date",sx:{m:"8px !important"}})})}),Object(N.jsx)(E,{sx:{m:"8px !important"},label:"Terms",name:"terms",size:"small",variant:"outlined",value:i.terms||"",onChange:m,select:!0,children:$.map(((e,t)=>Object(N.jsx)(j.a,{value:e,children:e},e)))}),Object(N.jsx)(M.b,{dateAdapter:D.a,children:Object(N.jsx)(q,{value:i.invoiceDate,inputFormat:"MMMM dd, yyyy",onChange:e=>p("dueDate",e),renderInput:e=>Object(N.jsx)(E,{...e,variant:"outlined",label:"Due Date",sx:{m:"8px !important"}})})})]})}),Object(N.jsx)(r.a,{item:!0,xs:12,children:Object(N.jsx)(c.a,{})}),Object(N.jsx)(r.a,{item:!0,md:2,sm:4,xs:12,children:"Salesperson Name"}),Object(N.jsx)(r.a,{item:!0,md:10,sm:8,xs:12,children:Object(N.jsx)(E,{size:"small",variant:"outlined",name:"salesPersonName",label:"Salesperson Name",value:i.salesPersonName||"",onChange:m,select:!0,children:P.map(((e,t)=>Object(N.jsx)(j.a,{value:e,children:e},e)))})}),Object(N.jsx)(r.a,{item:!0,xs:12,children:Object(N.jsx)(c.a,{})})]}),Object(N.jsx)(C.a,{mb:4,children:Object(N.jsx)(T,{values:i,setFieldValue:p,handleChange:m})}),Object(N.jsx)(C.a,{mb:4,children:Object(N.jsxs)(r.a,{container:!0,spacing:3,children:[Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(s.a,{label:"Custom Notes",name:"notes",size:"small",variant:"outlined",multiline:!0,rows:6,fullWidth:!0,value:i.notes,onChange:m})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(V,{elevation:0,children:Object(N.jsxs)(r.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center",children:[Object(N.jsx)(r.a,{item:!0,xs:6,children:"Sub Total"}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(C.a,{textAlign:"right",children:e(i.items).toFixed(2)})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsxs)(W,{children:[Object(N.jsx)(w.i,{sx:{whiteSpace:"pre"},children:"Shipping Charges"}),Object(N.jsx)(E,{sx:{ml:"12px !important"},name:"shippingCharge",size:"small",type:"number",variant:"outlined",value:i.shippingCharge||"",onChange:m})]})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(C.a,{textAlign:"right",children:(i.shippingCharge||0).toFixed(2)})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsxs)(W,{children:[Object(N.jsx)(E,{name:"otherField",size:"small",variant:"outlined",value:i.otherField||"",onChange:m}),Object(N.jsx)(E,{sx:{ml:"12px !important"},name:i.otherField,size:"small",variant:"outlined",type:"number",value:i[i.otherField]||"",onChange:m})]})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(C.a,{textAlign:"right",children:(i[i.otherField]||0).toFixed(2)})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(w.d,{sx:{m:0},children:"Total ( $ )"})}),Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(C.a,{textAlign:"right",children:Object(N.jsx)(w.d,{sx:{m:0},children:t(i).toFixed(2)})})})]})})})]})}),Object(N.jsx)(V,{elevation:0,children:Object(N.jsxs)(r.a,{container:!0,spacing:3,children:[Object(N.jsx)(r.a,{item:!0,xs:6,children:Object(N.jsx)(s.a,{label:"Terms & Conditions",name:"terms_conditions",size:"small",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,value:i.terms_conditions,onChange:m})}),Object(N.jsxs)(r.a,{item:!0,xs:6,children:[Object(N.jsx)("label",{htmlFor:"upload-multiple-file",children:Object(N.jsx)(d.a,{color:"primary",component:"span",variant:"contained",sx:{textTransform:"capitalize"},children:Object(N.jsxs)(W,{children:[Object(N.jsx)(o.a,{sx:{pr:4},children:"cloud_upload"}),Object(N.jsx)("span",{children:"Upload File"})]})})}),Object(N.jsx)("input",{multiple:!0,type:"file",id:"upload-multiple-file",style:{display:"none"},onChange:e=>p("files",e.target.files)})]})]})}),Object(N.jsx)(C.a,{mt:3,children:Object(N.jsx)(d.a,{color:"primary",variant:"contained",type:"submit",children:"Submit"})})]})}})]})})}}}]);