(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[42],{1815:function(e,a,t){"use strict";t.r(a);var s=t(1),r=t(622),i=t(382),n=t(739),c=t(623),l=t(624),d=t(621),o=t(625),j=t(172),b=t(95),x=t(705),h=t(20),u=t.n(h),p=t(21),m=t(106),O=t(19),v=t.n(O);var g=t(195),f=t(1319),C=t(709),y=t(685),w=t(1393),q=t(68),S=t(35),k=t(0);const P=Object(p.a)(g.TextValidator)((()=>({width:"100%",marginBottom:"16px"}))),A=Object(p.a)("div")((()=>({display:"flex",alignItems:"center",justifyContent:"space-between"})));var M=e=>{let{uid:a,open:t,handleClose:r}=e;const[n,c]=Object(s.useState)({name:"",email:"",phone:"",balance:"",age:"",company:"",address:"",isActive:!1}),l=(e,a)=>{e.persist(),c("switch"!==a?{...n,[e.target.name]:e.target.value}:{...n,isActive:e.target.checked})};return Object(s.useEffect)((()=>{var e;(e=a,v.a.get("/api/user",{data:e})).then((e=>c({...e.data})))}),[a]),Object(k.jsx)(f.a,{onClose:r,open:t,children:Object(k.jsxs)(q.a,{p:3,children:[Object(k.jsx)(S.d,{sx:{mb:"20px"},children:"Update Member"}),Object(k.jsxs)(g.ValidatorForm,{onSubmit:()=>{let{id:e}=n;var a;e?(a={...n},v.a.post("/api/user/update",a)).then((()=>{r()})):(e=>v.a.post("/api/user/add",e))({id:Object(m.b)(),...n}).then((()=>{r()}))},children:[Object(k.jsxs)(C.a,{sx:{mb:"16px"},container:!0,spacing:4,children:[Object(k.jsxs)(C.a,{item:!0,sm:6,xs:12,children:[Object(k.jsx)(P,{label:"Name",type:"text",name:"name",value:null===n||void 0===n?void 0:n.name,onChange:l,validators:["required"],errorMessages:["this field is required"]}),Object(k.jsx)(P,{label:"Email",type:"text",name:"email",value:null===n||void 0===n?void 0:n.email,onChange:l,validators:["required"],errorMessages:["this field is required"]}),Object(k.jsx)(P,{label:"Phone",type:"text",name:"phone",value:null===n||void 0===n?void 0:n.phone,onChange:l,validators:["required"],errorMessages:["this field is required"]}),Object(k.jsx)(P,{label:"Balance",onChange:l,type:"number",name:"balance",value:null===n||void 0===n?void 0:n.balance,validators:["required"],errorMessages:["this field is required"]})]}),Object(k.jsxs)(C.a,{item:!0,sm:6,xs:12,children:[Object(k.jsx)(P,{label:"Age",onChange:l,type:"number",name:"age",value:null===n||void 0===n?void 0:n.age,validators:["required"],errorMessages:["this field is required"]}),Object(k.jsx)(P,{label:"Company",onChange:l,type:"text",name:"company",value:null===n||void 0===n?void 0:n.company,validators:["required"],errorMessages:["this field is required"]}),Object(k.jsx)(P,{label:"Address",onChange:l,type:"text",name:"address",value:null===n||void 0===n?void 0:n.address,validators:["required"],errorMessages:["this field is required"]}),Object(k.jsx)(y.a,{sx:{my:"20px"},control:Object(k.jsx)(w.a,{checked:null===n||void 0===n?void 0:n.isActive,onChange:e=>l(e,"switch")}),label:"Active Customer"})]})]}),Object(k.jsxs)(A,{children:[Object(k.jsx)(i.a,{variant:"contained",color:"primary",type:"submit",children:"Save"}),Object(k.jsx)(i.a,{variant:"outlined",color:"secondary",onClick:()=>r(),children:"Cancel"})]})]})]})})},B=t(197),N=t(105),E=t(228);const I=Object(p.a)("div")((e=>{let{theme:a}=e;return{margin:"30px",[a.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{marginBottom:"30px",[a.breakpoints.down("sm")]:{marginBottom:"16px"}}}})),R=Object(p.a)(r.a)((()=>({minWidth:750,whiteSpace:"pre","& thead":{"& th:first-child":{paddingLeft:16}},"& td":{borderBottom:"none"},"& td:first-child":{paddingLeft:"16px !important"}}))),D=Object(p.a)("small")((e=>{let{theme:a}=e;return{color:"#fff",padding:"2px 8px",overflow:"hidden",borderRadius:"300px",boxShadow:N.b[3],background:a.palette.primary.main}}));a.default=()=>{const[e,a]=Object(s.useState)(null),[t,r]=Object(s.useState)(10),[h,p]=Object(s.useState)(0),[m,O]=Object(s.useState)(null),[g,f]=Object(s.useState)([]),[C,y]=Object(s.useState)(!1),[w,q]=Object(s.useState)(!1),S=()=>{y(!1),q(!1),P()},P=()=>{v.a.get("/api/user/all").then((e=>{let{data:a}=e;f(a)}))};return Object(s.useEffect)((()=>{P()}),[]),Object(k.jsxs)(I,{children:[Object(k.jsx)("div",{className:"breadcrumb",children:Object(k.jsx)(B.a,{routeSegments:[{name:"CRUD Table"}]})}),Object(k.jsx)(i.a,{sx:{mb:2},variant:"contained",color:"primary",onClick:()=>y(!0),children:"Add New Member"}),Object(k.jsxs)(n.a,{sx:{width:"100%",overflow:"auto"},elevation:6,children:[Object(k.jsxs)(R,{children:[Object(k.jsx)(c.a,{children:Object(k.jsxs)(l.a,{children:[Object(k.jsx)(d.a,{children:"Name"}),Object(k.jsx)(d.a,{children:"Age"}),Object(k.jsx)(d.a,{children:"Balance"}),Object(k.jsx)(d.a,{children:"Company"}),Object(k.jsx)(d.a,{children:"Status"}),Object(k.jsx)(d.a,{children:"Action"})]})}),Object(k.jsx)(o.a,{children:null===g||void 0===g?void 0:g.slice(h*t,h*t+t).map(((e,t)=>Object(k.jsxs)(l.a,{hover:!0,children:[Object(k.jsx)(d.a,{sx:{px:0},align:"left",children:e.name}),Object(k.jsx)(d.a,{sx:{px:0},align:"left",children:e.age}),Object(k.jsxs)(d.a,{sx:{px:0},children:["$",e.balance]}),Object(k.jsx)(d.a,{sx:{px:0},align:"left",children:e.company}),Object(k.jsx)(d.a,{sx:{px:0},children:e.isActive?Object(k.jsx)(D,{children:"active"}):Object(k.jsx)(D,{children:"inactive"})}),Object(k.jsxs)(d.a,{sx:{px:0},children:[Object(k.jsx)(j.a,{onClick:()=>{a(e.id),y(!0)},children:Object(k.jsx)(b.a,{color:"primary",children:"edit"})}),Object(k.jsx)(j.a,{onClick:()=>(e=>{O(e),q(!0)})(e),children:Object(k.jsx)(b.a,{color:"error",children:"delete"})})]})]},u.a.generate())))})]}),Object(k.jsx)(x.a,{sx:{px:2},rowsPerPageOptions:[5,10,25],component:"div",count:null===g||void 0===g?void 0:g.length,rowsPerPage:t,page:h,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:(e,a)=>{p(a)},onChangeRowsPerPage:e=>{let{target:{value:a}}=e;return r(a)}}),C&&Object(k.jsx)(M,{handleClose:S,open:C,uid:e}),w&&Object(k.jsx)(E.a,{open:w,onConfirmDialogClose:S,onYesClick:()=>{var e;(e=m,v.a.post("/api/user/delete",e)).then((()=>{S()}))},text:"Are you sure to delete?"})]})]})}}}]);