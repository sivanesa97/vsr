(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[31],{1418:function(e,t,a){"use strict";var r=a(4),c=a(2),n=a(1),i=(a(9),a(6)),s=a(46),o=a(290),d=a(7),l=a(12),b=a(31),h=a(32);function j(e){return Object(b.a)("MuiFab",e)}var p=Object(h.a)("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge"]),m=a(5),u=a(0);const x=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],g=Object(m.a)(o.a,{name:"MuiFab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["size".concat(Object(d.a)(a.size))],"inherit"===a.color&&t.colorInherit,"primary"===a.color&&t.primary,"secondary"===a.color&&t.secondary]}})((e=>{let{theme:t,ownerState:a}=e;return Object(c.a)({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,boxShadow:t.shadows[6],"&:active":{boxShadow:t.shadows[12]},color:t.palette.getContrastText(t.palette.grey[300]),backgroundColor:t.palette.grey[300],"&:hover":{backgroundColor:t.palette.grey.A100,"@media (hover: none)":{backgroundColor:t.palette.grey[300]},textDecoration:"none"},["&.".concat(p.focusVisible)]:{boxShadow:t.shadows[6]},["&.".concat(p.disabled)]:{color:t.palette.action.disabled,boxShadow:t.shadows[0],backgroundColor:t.palette.action.disabledBackground}},"small"===a.size&&{width:40,height:40},"medium"===a.size&&{width:48,height:48},"extended"===a.variant&&{borderRadius:24,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},"extended"===a.variant&&"small"===a.size&&{width:"auto",padding:"0 8px",borderRadius:17,minWidth:34,height:34},"extended"===a.variant&&"medium"===a.size&&{width:"auto",padding:"0 16px",borderRadius:20,minWidth:40,height:40},"inherit"===a.color&&{color:"inherit"})}),(e=>{let{theme:t,ownerState:a}=e;return Object(c.a)({},"primary"===a.color&&{color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,"&:hover":{backgroundColor:t.palette.primary.dark,"@media (hover: none)":{backgroundColor:t.palette.primary.main}}},"secondary"===a.color&&{color:t.palette.secondary.contrastText,backgroundColor:t.palette.secondary.main,"&:hover":{backgroundColor:t.palette.secondary.dark,"@media (hover: none)":{backgroundColor:t.palette.secondary.main}}})})),O=n.forwardRef((function(e,t){const a=Object(l.a)({props:e,name:"MuiFab"}),{children:n,className:o,color:b="default",component:h="button",disabled:p=!1,disableFocusRipple:m=!1,focusVisibleClassName:O,size:f="large",variant:v="circular"}=a,y=Object(r.a)(a,x),w=Object(c.a)({},a,{color:b,component:h,disabled:p,disableFocusRipple:m,size:f,variant:v}),k=(e=>{const{color:t,variant:a,classes:r,size:c}=e,n={root:["root",a,"size".concat(Object(d.a)(c)),"inherit"===t&&"colorInherit","primary"===t&&"primary","secondary"===t&&"secondary"]};return Object(s.a)(n,j,r)})(w);return Object(u.jsx)(g,Object(c.a)({className:Object(i.default)(k.root,o),component:h,disabled:p,focusRipple:!m,focusVisibleClassName:Object(i.default)(k.focusVisible,O),ownerState:w,ref:t},y,{children:n}))}));t.a=O},1801:function(e,t,a){"use strict";a.r(t);var r=a(21),c=a(121),n=a(1),i=a(731),s=a(1313),o=a(485),d=a.n(o),l=a(68),b=a(35),h=a(300),j=a(0);const p=Object(r.a)("div")((e=>{let{theme:t}=e;return{height:450,borderRight:"1px solid rgba(0, 0, 0, 0.08)",background:t.palette.background.default}})),m=Object(r.a)(d.a)((()=>({height:"100%",position:"relative"}))),u=Object(r.a)("div")((e=>{let{theme:t}=e;return{height:56,display:"flex",alignItems:"center",paddingLeft:"16px",paddingRight:"16px",background:t.palette.primary.main}})),x=Object(r.a)("h5")((()=>({color:"#fff",fontSize:"18px",fontWeight:"500",whiteSpace:"pre",marginLeft:"16px",marginBottom:0}))),g=Object(r.a)("div")((()=>({padding:"16px",display:"flex",alignItems:"center",cursor:"pointer",transition:"background 250ms ease","&:hover":{background:"rgba(0, 0, 0, 0.054)"}})));var O=e=>{let{currentUser:t,contactList:a=[],recentContactList:r=[],handleContactClick:n}=e;const o=Object(c.a)().palette.text.secondary;return Object(j.jsxs)(p,{children:[Object(j.jsxs)(u,{children:[Object(j.jsx)(h.a,{src:t.avatar,status:t.status}),Object(j.jsx)(x,{children:t.name})]}),Object(j.jsxs)(m,{children:[r.map(((e,t)=>Object(j.jsxs)(g,{onClick:()=>n(e.id),children:[Object(j.jsx)(h.a,{src:e.avatar,status:e.status}),Object(j.jsxs)(l.a,{pl:2,children:[Object(j.jsx)(b.g,{sx:{m:"0"},children:e.name}),Object(j.jsx)(b.g,{sx:{m:0,color:o},children:Object(i.a)(new Date(e.lastChatTime).getTime(),"MMMM dd, yyyy")})]})]},t))),Object(j.jsx)(s.a,{}),a.map(((e,t)=>Object(j.jsxs)(g,{onClick:()=>n(e.id),sx:{padding:"4px 16px"},children:[Object(j.jsx)(h.a,{src:e.avatar,status:e.status}),Object(j.jsx)(l.a,{pl:2,children:Object(j.jsx)("p",{children:e.name})})]},t)))]})]})},f=a(633),v=a(735),y=a(172),w=a(95),k=a(463),C=a(1418),S=a(105);const I=Object(r.a)("div")((e=>{let{theme:t}=e;return{width:220,height:220,display:"flex",alignItems:"center",justifyContent:"center",overflow:"hidden",borderRadius:"300px",boxShadow:S.b[6],background:t.palette.background.default,"& span":{fontSize:"4rem"}}}));var z=()=>Object(j.jsx)(I,{children:Object(j.jsx)(w.a,{color:"primary",children:"chat"})}),R=a(106),L=a(20),M=a.n(L),N=a(496);const D=Object(r.a)("div")((()=>({height:450,position:"relative",display:"flex",flexDirection:"column",background:"rgba(0, 0, 0, 0.05)"}))),F=Object(r.a)("div")((e=>{let{theme:t}=e;return{padding:"4px",display:"flex",alignItems:"center",justifyContent:"space-between",background:t.palette.primary.main}})),T=Object(r.a)("h5")((()=>({color:"#fff",fontSize:"18px",fontWeight:"500",whiteSpace:"pre",marginLeft:"16px"}))),U=Object(r.a)("div")((e=>{let{theme:t,userId:a,contactId:r}=e;return{padding:"8px 16px",marginBottom:"8px",borderRadius:"4px",color:a===r&&"#fff",background:a===r?t.palette.primary.main:t.palette.background.paper}})),W=Object(r.a)(f.a)((e=>{let{theme:t}=e;return{display:"flex",alignItems:"center","& .icon":{marginRight:"16px"}}})),V=Object(r.a)(d.a)((e=>{let{theme:t}=e;return{flexGrow:1,position:"relative"}})),B=Object(r.a)("div")((e=>{let{theme:t}=e;return{height:"100%",flexGrow:1,display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"}})),H=Object(r.a)("div")((e=>{let{theme:t}=e;return{display:"flex",alignItems:"flex-start",padding:"12px 16px"}}));var _=e=>{let{id:t,toggleSidenav:a,currentChatRoom:r,opponentUser:i,messageList:o=[],handleMessageSend:d}=e;const[p,m]=Object(n.useState)(""),u=Object(c.a)().palette.text.secondary;return Object(j.jsxs)(D,{children:[Object(j.jsxs)(F,{children:[Object(j.jsxs)(l.a,{display:"flex",alignItems:"center",children:[Object(j.jsx)(v.a,{mdUp:!0,children:Object(j.jsx)(y.a,{size:"large",onClick:a,children:Object(j.jsx)(w.a,{sx:{color:"#fff"},children:"short_text"})})}),Object(j.jsx)(v.a,{smDown:!0,children:Object(j.jsx)(l.a,{pl:"12px"})}),i&&Object(j.jsxs)(n.Fragment,{children:[Object(j.jsx)(h.a,{src:i.avatar,status:i.status}),Object(j.jsx)(T,{children:i.name})]})]}),Object(j.jsxs)(N.a,{menuButton:Object(j.jsx)(y.a,{size:"large",children:Object(j.jsx)(w.a,{sx:{color:"#fff"},children:"more_vert"})}),children:[Object(j.jsxs)(W,{children:[Object(j.jsx)(w.a,{className:"icon",children:"account_circle"})," Contact"]}),Object(j.jsxs)(W,{children:[Object(j.jsx)(w.a,{className:"icon",children:"volume_mute"})," Mute"]}),Object(j.jsxs)(W,{children:[Object(j.jsx)(w.a,{className:"icon",children:"delete"})," Clear Chat"]})]})]}),Object(j.jsxs)(V,{id:"chat-message-list",children:[""===r&&Object(j.jsxs)(B,{children:[Object(j.jsx)(z,{}),Object(j.jsx)("p",{children:"Select a contact"})]}),o.map(((e,a)=>Object(j.jsxs)(H,{children:[Object(j.jsx)(h.a,{src:e.avatar,status:e.status}),Object(j.jsxs)(l.a,{ml:2,children:[Object(j.jsx)(b.g,{sx:{m:0,mb:1,color:u},children:e.name}),Object(j.jsx)(U,{userId:t,contactId:e.contactId,children:Object(j.jsx)(b.i,{sx:{whiteSpace:"pre-wrap",wordBreak:"break-word"},children:e.text})}),Object(j.jsxs)(b.h,{sx:{m:0,color:u},children:[Object(R.c)(new Date(e.time))," ago"]})]})]},M.a.generate())))]}),Object(j.jsx)(s.a,{}),""!==r&&Object(j.jsxs)(l.a,{px:2,py:1,display:"flex",alignItems:"center",children:[Object(j.jsx)(k.a,{label:"Type your message here*",value:p,onChange:e=>m(e.target.value),onKeyUp:e=>{if("Enter"===e.key&&!e.shiftKey){let e=p.trim();""!==e&&d(e),m("")}},fullWidth:!0,multiline:!0,rows:1,variant:"outlined"}),Object(j.jsx)("div",{children:Object(j.jsx)(C.a,{onClick:()=>{""!==p.trim()&&d(p),m("")},color:"primary",sx:{ml:2},children:Object(j.jsx)(w.a,{children:"send"})})})]})]})},E=a(1304),G=a(739),J=a(19),K=a.n(J);const q=e=>K.a.get("/api/chat/contacts",{data:e}),A=e=>K.a.post("/api/chat/add",e);var Y=a(197),P=a(510),Q=a(511),X=a(512);const Z=Object(r.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}}));t.default=()=>{const e=document.querySelector("#chat-message-list"),[t,a]=Object(n.useState)(!0),[r,i]=Object(n.useState)({id:"7863a6802ez0e277a0f98534"}),[s,o]=Object(n.useState)(null),[d,l]=Object(n.useState)(""),[b,h]=Object(n.useState)([]),[p,m]=Object(n.useState)([]),[u,x]=Object(n.useState)([]),g=Object(n.useRef)(r),f=Object(c.a)(),v=Object(E.a)(f.breakpoints.down("sm")),y=Object(n.useCallback)((()=>{let{id:e}=g.current;(e=>K.a.get("/api/chat/contacts/recent",{data:e}))(e).then((e=>{m(e.data)}))}),[]);Object(n.useEffect)((()=>{let{id:e}=g.current;var t;q(e).then((e=>{a(v),i({...e.data})})),(t=r.id,K.a.get("/api/chat/contacts/all",{data:t})).then((e=>h(e.data))),y()}),[v,r.id,y]);const w=()=>{e&&e.scrollTo({top:e.scrollHeight,behavior:"smooth"})},k=()=>{a(!t)};return Object(j.jsxs)(Z,{children:[Object(j.jsx)("div",{className:"breadcrumb",children:Object(j.jsx)(Y.a,{routeSegments:[{name:"Chat"}]})}),Object(j.jsx)(G.a,{elevation:6,children:Object(j.jsxs)(P.a,{children:[Object(j.jsx)(Q.a,{width:"230px",open:t,toggleSidenav:k,children:Object(j.jsx)(O,{currentUser:r,contactList:b,recentContactList:p,handleContactClick:e=>{v&&k(),q(e).then((e=>{let{data:t}=e;o({...t})})),((e,t)=>K.a.get("/api/chat/chat-room",{data:{currentUser:e,contactId:t}}))(r.id,e).then((e=>{let{data:t}=e,{chatId:a,messageList:r,recentListUpdated:c}=t;l(a),x(r),w(),c&&y()}))}})}),Object(j.jsx)(X.a,{children:Object(j.jsx)(_,{id:null===r||void 0===r?void 0:r.id,opponentUser:s,messageList:u,currentChatRoom:d,handleMessageSend:e=>{let{id:t}=r;""!==d&&(A({chatId:d,text:e,contactId:t,time:new Date}).then((e=>{x([...e.data]),w()})),setTimeout((()=>{A({chatId:d,text:"Hi, I'm ".concat(s.name,". Your imaginary friend."),contactId:s.id,time:new Date}).then((e=>{x([...e.data]),w()}))}),750))},toggleSidenav:k})})]})})]})}}}]);