(this["webpackJsonpmatx-react-pro"]=this["webpackJsonpmatx-react-pro"]||[]).push([[44],{1811:function(e,t,a){"use strict";a.r(t);a(1675),a(1676);var n=a(1),r=a(382),c=a(1709),i=a(1677),s=a.n(i),l=a(21),d=a(68),o=a(35),j=a(711),b=a(172),x=a(95),h=a(1536),p=a(0);const m=Object(l.a)("div")((e=>{let{theme:t}=e;return{display:"flex",padding:"4px 0px",justifyContent:"space-around",borderTopRightRadius:6,borderTopLeftRadius:6,background:t.palette.primary.main}})),O={month:{name:"Month",icon:"view_module"},week:{name:"Week",icon:"view_week"},work_week:{name:"Work week",icon:"view_array"},day:{name:"Day",icon:"view_day"},agenda:{name:"Agenda",icon:"view_agenda"}};var u=e=>{const{views:t,view:a,label:n,onView:r,onNavigate:c}=e;return Object(p.jsxs)(m,{children:[Object(p.jsxs)(d.a,{display:"flex",justifyContent:"center",children:[Object(p.jsx)(j.a,{title:"Previous",children:Object(p.jsx)(b.a,{size:"large",onClick:()=>c(h.navigate.PREVIOUS),children:Object(p.jsx)(x.a,{sx:{color:"#fff"},children:"chevron_left"})})}),Object(p.jsx)(j.a,{title:"Today",children:Object(p.jsx)(b.a,{size:"large",onClick:()=>c(h.navigate.TODAY),children:Object(p.jsx)(x.a,{sx:{color:"#fff"},children:"today"})})}),Object(p.jsx)(j.a,{title:"Next",children:Object(p.jsx)(b.a,{size:"large",onClick:()=>c(h.navigate.NEXT),children:Object(p.jsx)(x.a,{sx:{color:"#fff"},children:"chevron_right"})})})]}),Object(p.jsx)(d.a,{display:"flex",alignItems:"center",children:Object(p.jsx)(o.f,{sx:{color:"#fff"},children:n})}),Object(p.jsx)(d.a,{display:"flex",children:(()=>{if(t.length>1)return t.map((e=>Object(p.jsx)(j.a,{title:O[e].name,children:Object(p.jsx)(b.a,{size:"large","aria-label":e,onClick:()=>r(e),disabled:a===e,children:Object(p.jsx)(x.a,{sx:{color:"#fff"},children:O[e].icon})})},e)))})()})]})},v=a(86),g=a(19),f=a.n(g);const w=e=>f.a.post("/api/calendar/events/update",e);var y=a(1319),k=a(709),C=a(463),D=a(195),S=a(1380),T=a(1320),A=a(1786);const E=Object(l.a)(d.a)((()=>({display:"flex",alignItems:"center",justifyContent:"space-between"}))),z=Object(l.a)(E)((e=>{let{theme:t}=e;return{padding:"10px 15px",background:t.palette.primary.main}}));var M=e=>{let{event:t={},open:a,handleClose:c}=e;const[i,s]=Object(n.useState)(t),l=e=>{s({...i,[e.target.name]:e.target.value})},j=(e,t)=>{s({...i,[t]:e})},h=()=>{let e=Math.random().toString();return e.substr(2,e.length-1)};let{title:m,start:O,end:u,location:v,note:g}=i;return Object(p.jsxs)(y.a,{onClose:c,open:a,maxWidth:"xs",fullWidth:!0,children:[Object(p.jsxs)(z,{children:[Object(p.jsx)(o.d,{sx:{m:0,color:"#fff"},children:"Add Events"}),Object(p.jsx)(b.a,{onClick:c,children:Object(p.jsx)(x.a,{sx:{color:"#fff"},children:"clear"})})]}),Object(p.jsx)(d.a,{p:2,children:Object(p.jsxs)(D.ValidatorForm,{onSubmit:()=>{let{id:e}=i;e?w({...i}).then((()=>{c()})):(e=>f.a.post("/api/calendar/events/add",e))({id:h(),...i}).then((()=>{c()}))},children:[Object(p.jsx)(D.TextValidator,{label:"Title",type:"text",name:"title",value:m||"",onChange:l,validators:["required"],errorMessages:["this field is required"],style:{width:"100%",marginBottom:"24px"}}),Object(p.jsxs)(k.a,{container:!0,spacing:4,children:[Object(p.jsx)(k.a,{item:!0,sm:6,xs:12,children:Object(p.jsx)(T.b,{dateAdapter:S.a,children:Object(p.jsx)(A.a,{value:new Date,onChange:e=>j(e,"start"),renderInput:e=>Object(p.jsx)(C.a,{...e,label:"Start date",variant:"standard"})})})}),Object(p.jsx)(k.a,{item:!0,sm:6,xs:12,children:Object(p.jsx)(T.b,{dateAdapter:S.a,children:Object(p.jsx)(A.a,{value:new Date,onChange:e=>j(e,"end"),renderInput:e=>Object(p.jsx)(C.a,{...e,label:"End date",variant:"standard"})})})})]}),Object(p.jsx)(d.a,{py:1.3}),Object(p.jsx)(D.TextValidator,{label:"Location",onChange:l,type:"text",name:"location",value:v||"",validators:["required"],errorMessages:["this field is required"],style:{width:"100%",marginBottom:"24px"}}),Object(p.jsx)(D.TextValidator,{label:"Note",onChange:l,type:"text",name:"note",value:g||"",rowsMax:2,multiline:!0,validators:["required"],errorMessages:["this field is required"],style:{width:"100%",marginBottom:"24px"}}),Object(p.jsxs)(E,{children:[Object(p.jsx)(r.a,{variant:"contained",color:"primary",children:"Save"}),Object(p.jsxs)(r.a,{onClick:()=>{i.id&&(e=>f.a.post("/api/calendar/events/delete",e))(i).then((()=>{c()}))},children:[Object(p.jsx)(x.a,{sx:{mr:1,verticalAlign:"middle"},children:"delete"}),"Delete"]})]})]})})]})},_=a(1690),V=a.n(_),q=a(106),N=a(197);const R=Object(l.a)("div")((e=>{let{theme:t}=e;return{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"},"& .breadcrumb":{margin:"30px",[t.breakpoints.down("sm")]:{margin:"16px"}}}})),I=Object(l.a)("div")((e=>{let{theme:t}=e;return{height:"100vh",display:"flex",flexDirection:"column","& .rbc-event":{background:"rgba(".concat(Object(q.a)(t.palette.primary.main),",1)")},"& .rbc-selected":{background:"rgba(".concat(Object(q.a)(t.palette.secondary.main),",1)")},"& .rbc-calendar":{height:"auto",flexGrow:1},"& .rbc-header":{padding:"12px 16px !important","& a":{paddingBottom:"8px !important"},"& span":{fontSize:"15px !important",fontWeight:500}}}})),W=Object(c.c)(V.a),B=s()(c.a);let P=Object.keys(c.b).map((e=>c.b[e]));t.default=()=>{const[e,t]=Object(n.useState)([]),[a,i]=Object(n.useState)(null),[s,l]=Object(n.useState)(!1),o=Object(n.useRef)(null),j=()=>{f.a.get("/api/calendar/events/all").then((e=>e.data)).then((e=>{var a;e=null===(a=e)||void 0===a?void 0:a.map((e=>({...e,start:new Date(e.start),end:new Date(e.end)}))),t(e)}))},b=e=>{w(e).then((()=>{j()}))},x=e=>{let{action:t,...a}=e;"doubleClick"===t&&(i(a),l(!0))};return Object(n.useEffect)((()=>{j()}),[]),Object(p.jsxs)(R,{children:[Object(p.jsx)("div",{className:"breadcrumb",children:Object(p.jsx)(N.a,{routeSegments:[{name:"Calendar"}]})}),Object(p.jsx)(r.a,{sx:{mb:2},variant:"contained",color:"secondary",onClick:()=>x({action:"doubleClick",start:new Date,end:new Date}),children:"Add Event"}),Object(p.jsxs)(I,{children:[Object(p.jsx)(d.a,{ref:o}),Object(p.jsx)(B,{selectable:!0,localizer:W,events:e,onEventDrop:e=>{b(e)},resizable:!0,onEventResize:b,defaultView:c.b.MONTH,defaultDate:new Date,startAccessor:"start",endAccessor:"end",views:P,step:60,showMultiDayTimes:!0,components:{toolbar:e=>o.current?v.createPortal(Object(p.jsx)(u,{...e}),o.current):Object(p.jsx)("div",{children:"Header component not found"})},onSelectEvent:e=>{(e=>{i(e),l(!0)})(e)},onSelectSlot:e=>x(e)})]}),s&&Object(p.jsx)(M,{handleClose:()=>{l(!1),j()},open:s,event:a})]})}}}]);